#ifndef CHIP8_H_
#define CHIP8_H_

#include <stdio.h>
#include <stdint.h>
#include <stdlib.h>
#include <string.h>
#include <stdbool.h>
#include <time.h>

#define MEM_SIZE 4096
#define GFX_COLS 64
#define GFX_ROWS 32
#define FPS 60
#define STACK_SIZE 16
#define FONT_ADDR 0x000
#define NUM_OF_KEYS 16

#define INSTRUCTION_SIZE 2

#define FONTS_SIZE 80

static uint8_t font[FONTS_SIZE] = {
    0xF0, 0x90, 0x90, 0x90, 0xF0, // 0
    0x20, 0x60, 0x20, 0x20, 0x70, // 1
    0xF0, 0x10, 0xF0, 0x80, 0xF0, // 2
    0xF0, 0x10, 0xF0, 0x10, 0xF0, // 3
    0x90, 0x90, 0xF0, 0x10, 0x10, // 4
    0xF0, 0x80, 0xF0, 0x10, 0xF0, // 5
    0xF0, 0x80, 0xF0, 0x90, 0xF0, // 6
    0xF0, 0x10, 0x20, 0x40, 0x40, // 7
    0xF0, 0x90, 0xF0, 0x90, 0xF0, // 8
    0xF0, 0x90, 0xF0, 0x10, 0xF0, // 9
    0xF0, 0x90, 0xF0, 0x90, 0x90, // A
    0xE0, 0x90, 0xE0, 0x90, 0xE0, // B
    0xF0, 0x80, 0x80, 0x80, 0xF0, // C
    0xE0, 0x90, 0x90, 0x90, 0xE0, // D
    0xF0, 0x80, 0xF0, 0x80, 0xF0, // E
    0xF0, 0x80, 0xF0, 0x80, 0x80  // F 
};

extern uint8_t memory[MEM_SIZE];
extern uint8_t V[16];
extern uint16_t PC;
extern uint16_t I;
extern uint8_t SP;
extern uint16_t stack[STACK_SIZE];
extern uint8_t DT;
extern uint8_t ST;
extern uint8_t keyboard[NUM_OF_KEYS];
extern bool graphics[GFX_ROWS][GFX_COLS];

void initialize_emu();
int load_rom(const char *location);
void execute();

#endif // CHIP8_H_
